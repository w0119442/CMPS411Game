<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="/css/buttonStyles.css" /> 
</head>

<body>
	<div id="themeDiv">
		<button id="tankTheme">Tank</button>
		<button id="bookTheme">Book</button>
		<button id="spiderTheme">Spider</button>
		<button id="ufoTheme">UFO</button>
		<button id="octopusTheme">Octopus</button>		
	</div>
	
	<canvas id="ctx"></canvas>
	<canvas id="worldMap" width="3000" height="3000" style="display:none;"></canvas>
	
	<script src="https://cdn.socket.io/socket.io-1.4.8.js"></script>
</body>

<script src="/client/js/constants.js"></script>
<script src="/client/js/themes.js"></script>
<script src="/client/js/drawFunctions.js"></script>

<script>
	
	// Alter Viewport so the border fits nicely
	window.addEventListener("resize", resizeFunction);
	var clientWidth = window.innerWidth;
	var clientHeight = window.innerHeight;
	var VIEW_WIDTH = Math.floor(clientWidth * .9 / BORDER_SIZE) * BORDER_SIZE;
	var VIEW_HEIGHT = Math.floor(clientHeight * .9 / BORDER_SIZE) * BORDER_SIZE;
	
	// Set up world map
	var worldMapCanvas = document.getElementById("worldMap");
	var worldMap = worldMapCanvas.getContext("2d");
	Img.map.onload = function() {
		var patrn = worldMap.createPattern(Img.map, "repeat");
		worldMap.fillStyle = patrn;
		worldMap.fillRect(0, 0, worldMapCanvas.width, worldMapCanvas.height);
	}
	
	// Set up game area (viewport)
	var ctx = document.getElementById("ctx").getContext("2d");
	ctx.canvas.width = VIEW_WIDTH;
	ctx.canvas.height = VIEW_HEIGHT;
	ctx.font = '30px Arial';
	
	Img.bgtile.onload = function() {
		var patrnBack = ctx.createPattern(Img.bgtile, "repeat");
		ctx.fillStyle = patrnBack;
		ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
	}
</script>
	
<script src="/client/js/positions.js"></script>
<script src="/client/js/events.js"></script>
</html>